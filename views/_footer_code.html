<!-- Templates -->
<script type="text/template" id="panel-view-template">
  <div id="left-sidebar">
    <div class="panel-header">

      <div>
        <div>
          <div class="candidate-select-view"></div>
        </div>
      </div>
      
      <div class="details">
          <hr>
          <div class="year-select-view"></div>
          <div>
          <hr>
          <span class="column-header">View</span>
            <ul class="map-select">
              <li><a class="city" data-mapname="city">City</a></li>
              <li><a class="region" data-mapname="region">Region</a></li>
              <li><a class="national" data-mapname="national">National</a></li>
            </ul>
          </div>
          <hr>
          <div class='contributions'>
            <span class="column-header">Donations</span>
            <div class='table-container'><span class="placeholder">Click a region to view contributions.</span></div>
          </div>
      </div>
    </div>
  </div>
  <div id="map-box"> 
    <div class="map-view">
      <div class="map-header">
     
        <div class="map-title">
          <h3>The Money Maps</h3>
          <div class="byline"><span class="byline-author">by <a href="http://axisphilly.org/author/casey/" title="Posts by author" rel="author">Casey Thomas</a> and <a href="http://axisphilly.org/author/jeff/" title="Posts by author" rel="author">Jeff Frankl</a><span class="byline-date">, September 9th, 2013</span></span></div>
          <p>
            Use this app to explore campaign contributions to current City Council members from 2007 through 2012. Start by making a selection from the menu below.
            <a href="http://axisphilly.org/article/the-money-maps/">Related Story →</a>
          </p>
          <hr>
          <p>
            <em>
              Source: <a href="http://phila-records.com/campaign-finance/campaignweb/docSearch.jsp">City of Philadelphia, Department of Records</a>
            </em>
          </p>
          <p>
            <em>
              Note: Contribution amounts reflect only contributions from contributors with a valid U.S. address. This represents about 98% of contributions on record. 2012 campaign contributions are not available in electronic format for Darrell Clarke, Maria Quiñones-Sánchez, and Kenyatta Johnson. Council district boundaries reflect boundaries that were in use from 2000 through 2012.
            </em>
          </p>
        </div>
        <div class="map-secondary">
          <div class="map-share">
            <a class="button share" href="#">Share</a>
          </div>
          <div class="map-legend"></div>
        </div>         
      </div>
      <div class='map-container'></div>
    </div>
  </div>
</script>
<script type="text/template" id="year-select-view-template">
  <span class="column-header">Year</span>
    <span><a class="arrow backward {{ if(backward) { }} active {{ } }}" data-direction="backward" data-status="{{ if(backward) { }}active{{ } }}">&larr;</a></span> 
  <span class="year selector">{{= year }}</span>
    <span><a class="arrow forward {{ if(forward) { }} active {{ } }}" data-direction="forward" data-status="{{ if(forward) { }}active{{ } }}">&rarr;</a></span>
</script>
<script type="text/template" id="candidate-select-view-template">
  <span class="column-header">Councilperson</span>
  <select data-placeholder="Select a member">
    <option></option>
  </select>
  <span class="title"></span>
</script>
<script type="text/template" id="contribution-view-template">
  <tr>
    <td>{{= fDate }}</td>
    <td>{{= contributor }}</td>
    <td>${{= fAmount }}</td>
  </tr>
</script>
<div id="shareModal" class="reveal-modal small">
  <p>Use this URL to share your current selection:</p>
  <span class="link"></span>
  <a class="close-reveal-modal">&#215;</a>
</div>
<!-- Libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
<% if(env === 'production') { %>
  <!-- Compressed, versioned JS library files -->
  <script type="text/javascript" src="js/app.libraries.min.<%= version %>.js"></script>
<% } else { %>
  <!-- Individual JS library files -->
  <script type="text/javascript" src="js/lib/foundation.js"></script>
  <script type="text/javascript" src="js/lib/foundation.reveal.js"></script>
  <script type="text/javascript" src="js/lib/fastclick.js"></script>
  <script type="text/javascript" src="js/lib/underscore.js"></script>
  <script type="text/javascript" src="js/lib/chosen.jquery.min.js"></script>
  <script type="text/javascript" src="js/lib/backbone.js"></script>
  <script type="text/javascript" src="js/lib/topojson.js"></script>
  <script type="text/javascript" src="js/lib/moment.min.js"></script>
  <script type="text/javascript" src="js/lib/jQuery.XDomainRequest.js"></script>
  <script type="text/javascript" src="js/lib/d3.v3.min.js"></script>
  <script type="text/javascript" src="js/lib/d3.colorbrewer.js"></script>
  <script type="text/javascript" src="js/lib/simplestatistics.js"></script>
  <script type="text/javascript" src="js/lib/states.js"></script>
<% } %>

  <script>
    var navigation = responsiveNav("#nav", {
      animate: true,        // Boolean: Use CSS3 transitions, true or false
      transition: 400,      // Integer: Speed of the transition, in milliseconds
      label: "Menu",        // String: Label for the navigation toggle
      insert: "before",      // String: Insert the toggle before or after the navigation
      customToggle: "",     // Selector: Specify the ID of a custom toggle
      openPos: "relative",  // String: Position of the opened nav, relative or static
      jsClass: "js",        // String: 'JS enabled' class which is added to <html> el
      init: function(){},   // Function: Init callback
      open: function(){},   // Function: Open callback
      close: function(){}   // Function: Close callback
    });
  </script>

<!-- Init Foundation and Fast Click-->
<script type="text/javascript">
  $(document).ready(function(){
    $(document).foundation();
    FastClick.attach(document.body);
  });
</script>     

<!-- App Code -->
<% if(env === 'production') { %>
  <script type="text/javascript" src="js/app.min.<%= version %>.js"></script>
<% } else { %>
  <script type="text/javascript" src="js/app.js"></script>
<% } %>